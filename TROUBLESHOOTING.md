# トラブルシューティング

## 内部ネットワーク（別PC/スマホ）でのログインエラーについて

### 現象
内部ネットワークの別の端末（例: `http://192.168.1.5:3000`）からアクセスし、ログインボタンを押すと、Google認証後に `localhost` にリダイレクトされ、「接続が拒否されました」等のエラーになる。

### 原因
Supabaseの認証設定（Authentication -> URL Configuration -> Redirect URLs）に、アクセスしているIPアドレスのURL（例: `http://192.168.1.5:3000/**`）が許可されていないため、Supabaseがデフォルトの `Site URL`（通常は `http://localhost:3000`）に強制的にリダイレクトしています。

### 解決方法
1. Supabaseのダッシュボードを開きます。
2. 左メニューの **Authentication** > **URL Configuration** を選択します。
3. **Redirect URLs** セクションに、開発用PCのIPアドレスを含むURLを追加します。
   - 例: `http://192.168.1.5:3000/**` （ご自身のIPアドレスに合わせて変更してください）
4. **Save** を押して保存します。

これで、`AuthButton` が送信する動的なリダイレクトURL（現在のブラウザのオリジン）がSupabaseに受け入れられるようになり、正しいIPアドレスにリダイレクトされます。

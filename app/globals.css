@import "tailwindcss";

/* =====================================
   ベースカラートークン
===================================== */
:root {
  /* App 全体 */
  --background: #ffffff;
  --foreground: #171717;

  /* コメント用（本文フェードに使用） */
  --comment-text-color: var(--foreground);
  --comment-bg-color: var(--background);
}

/* =====================================
   Tailwind Theme Inline
===================================== */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* =====================================
   ダークモード（OS設定連動）
===================================== */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;

    /* コメント用（自動追従） */
    --comment-text-color: var(--foreground);
    --comment-bg-color: var(--background);
  }
}

/* =====================================
   グローバルベーススタイル
===================================== */
html {
  /* iOSのオーバースクロール時にステータスバーエリアを黒で塗りつぶす */
  background: #000000;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ページ読み込み中はすべての操作をブロック */
body.page-loading {
  pointer-events: none;
  cursor: wait;
}

/* =====================================
   コメント本文（フェード対応）
===================================== */
/*
  JS 側で --fade (0〜0.6) を渡す
  color-mix はモダンブラウザ対応
*/
.comment-body {
  color: color-mix(
    in srgb,
    var(--comment-text-color) calc((1 - var(--fade, 0)) * 100%),
    var(--comment-bg-color) calc(var(--fade, 0) * 100%)
  );

  transition: color 0.2s ease;
}

/* =====================================
   アクセシビリティ補助
===================================== */

/* コントラストを重視するユーザー */
@media (prefers-contrast: more) {
  .comment-body {
    color: var(--comment-text-color);
  }
}

/* 動きを減らしたいユーザー */
@media (prefers-reduced-motion: reduce) {
  .comment-body {
    transition: none;
  }
}

/* =====================================
   カスタムスクロールバー（スマホ表示時のみ）
===================================== */
@media (max-width: 640px) {
  .tier-list-scroll-container {
    /* Firefox用 */
    scrollbar-width: auto;
    scrollbar-color: #4f46e5 #e5e7eb;
  }

  /* Webkit系ブラウザ用 */
  .tier-list-scroll-container::-webkit-scrollbar {
    width: 24px;
  }

  .tier-list-scroll-container::-webkit-scrollbar-track {
    background: #e5e7eb;
    border-radius: 12px;
  }

  .tier-list-scroll-container::-webkit-scrollbar-thumb {
    background: #4f46e5;
    border-radius: 12px;
    border: 2px solid #e5e7eb;
    min-height: 60px;
  }

  .tier-list-scroll-container::-webkit-scrollbar-thumb:hover {
    background: #4338ca;
  }

  /* ダークモード対応 */
  @media (prefers-color-scheme: dark) {
    .tier-list-scroll-container {
      scrollbar-color: #6366f1 #374151;
    }

    .tier-list-scroll-container::-webkit-scrollbar-track {
      background: #374151;
      border-radius: 12px;
    }

    .tier-list-scroll-container::-webkit-scrollbar-thumb {
      background: #6366f1;
      border-radius: 12px;
      border: 2px solid #374151;
      min-height: 60px;
    }

    .tier-list-scroll-container::-webkit-scrollbar-thumb:hover {
      background: #818cf8;
    }
  }
}
